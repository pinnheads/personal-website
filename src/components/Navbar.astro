---
import ThemeToggle from './ThemeToggle.astro';
import Button from './Button.astro';
import Icon from './Icon.astro'
---

<nav class='flex flex-wrap items-center justify-between w-full px-6 py-2 md:p-8 text-black dark:text-white animate-fade-down'>
    <div class="flex space-x-2 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#00e0b0" viewBox="0 0 256 256"><path d="M72.5,150.63,100.79,128,72.5,105.37a12,12,0,1,1,15-18.74l40,32a12,12,0,0,1,0,18.74l-40,32a12,12,0,0,1-15-18.74ZM144,172h32a12,12,0,0,0,0-24H144a12,12,0,0,0,0,24ZM236,56V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212Z"></path></svg>
        <a class='text-2xl md:text-3xl font-extrabold' data-testid="brand-name" href='/'>Utsav Deep</a>
    </div>
    <ThemeToggle />
    <button name="hamburger-button" type="button" class='mobile-hamburger rotate-180 p-2 md:hidden' onclick='menuHandler()' data-testid="hamburger-menu">
        <div id='first-line' class='bg-black dark:bg-white h-[3px] w-10 my-2 transition-all ease-out delay-100'></div>
        <div id='second-line' class='bg-black dark:bg-white h-[3px] w-6 my-2 transition-all ease-out delay-100'></div>
        <div id='third-line' class='bg-black dark:bg-white h-[3px] w-10 my-2 transition-all ease-out delay-100'></div>
    </button>
    <div class='hidden w-full md:flex items-center md:w-auto p-8 md:p-0' id='menu' data-testid="menu">
        <ul
            class='text-center md:flex md:justify-between text-xl md:text-2xl font-semibold space-y-4 md:space-y-0 md:space-x-10'
        >
            <li onclick='menuHandler()'>
                <a href='#projects' data-testid="section-link-projects">Projects</a>
            </li>
            <li onclick='menuHandler()'>
                <a href='#experience' data-testid="section-link-experience">Experience</a>
            </li>
            <li onclick='menuHandler()'>
                <a href='#contact' data-testid="section-link-contact">Contact</a>
            </li>
        </ul>
    </div>
</nav>

<style>
    .first {
        transform: translateY(11px) rotate(45deg);
        transition: all 0.5s ease;
    }

    .second {
        opacity: 0;
        transition: all 0.2s ease;
    }

    .third {
        transform: translateY(-11px) rotate(-45deg);
        transition: all 0.5s ease;
    }
</style>

<script is:inline>
    function menuHandler() {
        hamburgerHandler();
        const menu = document.querySelector('#menu');
        menu.classList.toggle('hidden');
    }

    function hamburgerHandler() {
        var firstLine = document.getElementById('first-line');
        var secondLine = document.getElementById('second-line');
        var thirdLine = document.getElementById('third-line');

        firstLine.classList.toggle('first');
        secondLine.classList.toggle('second');
        thirdLine.classList.toggle('third');
    }
</script>
